üìÅ 1Ô∏è‚É£ App.jsx
import React from "react";
import Form1 from "./forms/Form1";

function App() {
  return <Form1 />;
}

export default App;
üìÅ 2Ô∏è‚É£ forms/Form1.jsx
import React, { useState } from "react";
import "../styles/formLayout.css";

import Header from "../components/Header";
import VendorDetails from "../components/VendorDetails";
import ContactDetails from "../components/ContactDetails";
import AddressSection from "../components/AddressSection";
import BillingSection from "../components/BillingSection";
import SegmentSection from "../components/SegmentSection";
import CaptchaSection from "../components/CaptchaSection";
import FormButtons from "../components/FormButtons";

const Form1 = () => {
  const [formData, setFormData] = useState({
    vendorName: "",
    ipAddress: "",
    port: "",
    status: "",
    mobileNumber: "",
    registrationDate: "",
    address: {
      addressLine1: "",
      addressLine2: "",
      city: "",
      state: "",
      zip: "",
      country: ""
    },
    billingAddress: {
      addressLine1: "",
      addressLine2: "",
      city: "",
      state: "",
      zip: "",
      country: ""
    },
    billingSameAsAddress: false,
    segment: [],
    captcha: ""
  });

  const [segmentData, setSegmentData] = useState({});
  const [addressOpen, setAddressOpen] = useState(false);
  const [billingOpen, setBillingOpen] = useState(false);

  const subscriptionTypeValue = {
    "Equity (CM)": ["Real Time/BOD", "EOD Bhavcopy"],
    "F/O": ["Real Time/BOD", "EOD Bhavcopy", "Historicla Trade Data"],
    "Indices": ["Real Time/BOD", "EOD Bhavcopy"]
  };

  const packetCodeValue = {
    "Equity (CM)": ["CN, PN"],
    "F/O": ["FN/FP"],
    "Indices": ["CX"]
  };

  const levelValue = {
    "Equity (CM)": ["Level 1", "Level 2", "Level 3"],
    "F/O": ["Level 1", "Level 2"],
    "Indices": []
  };

  const segmentOptions = [
    { id: "equity", value: "Equity (CM)", label: "Equity (CM)" },
    { id: "fo", value: "F/O", label: "F/O" },
    { id: "indices", value: "Indices", label: "Indices" }
  ];

  const handleChange = (e) => {
    const { name, value } = e.target;

    if (name.startsWith("address.") || name.startsWith("billingAddress.")) {
      const [section, field] = name.split(".");
      setFormData(prev => ({
        ...prev,
        [section]: {
          ...prev[section],
          [field]: value
        }
      }));
    } else {
      setFormData(prev => ({ ...prev, [name]: value }));
    }
  };

  const handleBillingSameChange = (e) => {
    const checked = e.target.checked;
    setFormData(prev => ({
      ...prev,
      billingSameAsAddress: checked,
      billingAddress: checked
        ? { ...prev.address }
        : {
            addressLine1: "",
            addressLine2: "",
            city: "",
            state: "",
            zip: "",
            country: ""
          }
    }));
  };

  const handleSegmentChange = (value, checked) => {
    const currentSegments = formData.segment || [];

    if (checked) {
      setFormData({
        ...formData,
        segment: [...currentSegments, value]
      });
      setSegmentData(prev => ({
        ...prev,
        [value]: {
          subscriptionType: "",
          packetCode: "",
          levels: ""
        }
      }));
    } else {
      const newSegments = currentSegments.filter(s => s !== value);
      setFormData({ ...formData, segment: newSegments });

      setSegmentData(prev => {
        const newData = { ...prev };
        delete newData[value];
        return newData;
      });
    }
  };

  const handleSegmentFieldChange = (segment, field, value) => {
    setSegmentData(prev => ({
      ...prev,
      [segment]: {
        ...prev[segment],
        [field]: value
      }
    }));
  };

  const handleSubmit = (e) => {
    e.preventDefault();
    console.log("Form Data:", formData);
    console.log("Segment Data:", segmentData);
    alert("Form submitted successfully!");
  };

  return (
    <>
      <Header />
      <div className="form-container">
        <p className="note">Note: All fields marked * are mandatory.</p>

        <form onSubmit={handleSubmit}>
          <VendorDetails formData={formData} handleChange={handleChange} />

          <ContactDetails formData={formData} handleChange={handleChange} />

          <AddressSection
            formData={formData}
            handleChange={handleChange}
            isOpen={addressOpen}
            toggle={() => setAddressOpen(!addressOpen)}
          />

          <BillingSection
            formData={formData}
            handleChange={handleChange}
            isOpen={billingOpen}
            toggle={() => setBillingOpen(!billingOpen)}
            handleBillingSameChange={handleBillingSameChange}
          />

          <SegmentSection
            formData={formData}
            segmentData={segmentData}
            handleSegmentChange={handleSegmentChange}
            handleSegmentFieldChange={handleSegmentFieldChange}
            subscriptionTypeValue={subscriptionTypeValue}
            packetCodeValue={packetCodeValue}
            levelValue={levelValue}
            segmentOptions={segmentOptions}
          />

          <CaptchaSection formData={formData} handleChange={handleChange} />

          <FormButtons />
        </form>
      </div>
    </>
  );
};

export default Form1;



üìÅ components/Header.jsx
import React from "react";
import "../styles/header.css";

const Header = () => {
  return (
    <>
      <div className="Header">
        <a href="">Delay Form</a>
      </div>

      <div className="form-header">
        <a href="https://ncdex.com/" target="_blank" rel="noreferrer">
          <img
            className="form-header-img"
            src="https://globalprimenews.com/wp-content/uploads/2019/11/IMG-20191114-WA0010-1024x434.jpg"
            alt="NCDEX Logo"
          />
        </a>
        <h4 className="form-title">Data Request Form (Real Time)</h4>
      </div>
    </>
  );
};

export default Header;
üìÅ components/VendorDetails.jsx
import React from "react";
import "../styles/vendor.css";

const VendorDetails = ({ formData, handleChange }) => {
  return (
    <section className="form-section">
      <h3>Vendor Details</h3>
      <div className="form-grid">
        <label>
          <span className="section-part-heading">
            Vendor Name <span className="star">*</span>
          </span>
          <input
            type="text"
            name="vendorName"
            value={formData.vendorName}
            onChange={handleChange}
            required
          />
        </label>

        <label>
          <span className="section-part-heading">
            IP Address <span className="star">*</span>
          </span>
          <input
            type="text"
            name="ipAddress"
            value={formData.ipAddress}
            onChange={handleChange}
            required
          />
        </label>

        <label>
          <span className="section-part-heading">
            Port <span className="star">*</span>
          </span>
          <input
            type="text"
            name="port"
            value={formData.port}
            onChange={handleChange}
            required
          />
        </label>

        <label>
          <span className="section-part-heading">
            Status <span className="star">*</span>
          </span>
          <select
            name="status"
            value={formData.status}
            onChange={handleChange}
          >
            <option value="">Select</option>
            <option>Active</option>
            <option>Inactive</option>
          </select>
        </label>
      </div>
    </section>
  );
};

export default VendorDetails;
üìÅ components/ContactDetails.jsx
import React from "react";
import "../styles/contact.css";

const ContactDetails = ({ formData, handleChange }) => {
  return (
    <section className="form-section">
      <h3>Contact and Address Details</h3>
      <div className="form-grid">
        <label>
          <span className="section-part-heading">
            Mobile Number <span className="star">*</span>
          </span>
          <input
            type="text"
            name="mobileNumber"
            value={formData.mobileNumber}
            onChange={handleChange}
            required
          />
        </label>

        <label>
          <span className="section-part-heading">
            Registration Date <span className="star">*</span>
          </span>
          <input
            type="date"
            name="registrationDate"
            value={formData.registrationDate}
            onChange={handleChange}
            required
          />
        </label>
      </div>
    </section>
  );
};

export default ContactDetails;
üìÅ components/AddressSection.jsx
import React from "react";
import "../styles/address.css";

const AddressSection = ({ formData, handleChange, isOpen, toggle }) => {
  return (
    <div className="address-section collapsible-section">
      <div className="collapsible-trigger" onClick={toggle}>
        <span className={`caret ${isOpen ? "rotated" : ""}`}>‚ñº</span>
        <span className="section-part-heading">Address</span>
      </div>

      <div className={`collapsible-content ${isOpen ? "open" : "closed"}`}>
        <div className="form-grid">
          <div className="address-line-fullwidth">
            <label>
              <span>Address Line 1</span>
              <input
                type="text"
                name="address.addressLine1"
                value={formData.address.addressLine1}
                onChange={handleChange}
              />
            </label>
          </div>

          <div className="address-line-fullwidth">
            <label>
              <span>Address Line 2</span>
              <input
                type="text"
                name="address.addressLine2"
                value={formData.address.addressLine2}
                onChange={handleChange}
              />
            </label>
          </div>

          <div className="address-grid">
            <label>
              <span>City</span>
              <input
                type="text"
                name="address.city"
                value={formData.address.city}
                onChange={handleChange}
              />
            </label>

            <label>
              <span>State</span>
              <input
                name="address.state"
                value={formData.address.state}
                onChange={handleChange}
              />
            </label>

            <label>
              <span>Zip</span>
              <input
                type="text"
                name="address.zip"
                value={formData.address.zip}
                onChange={handleChange}
              />
            </label>

            <label>
              <span>Country</span>
              <input
                name="address.country"
                value={formData.address.country}
                onChange={handleChange}
              />
            </label>
          </div>
        </div>
      </div>
    </div>
  );
};

export default AddressSection;
üìÅ components/BillingSection.jsx
import React from "react";
import "../styles/address.css";

const BillingSection = ({
  formData,
  handleChange,
  isOpen,
  toggle,
  handleBillingSameChange
}) => {
  return (
    <div className="address-section collapsible-section">
      <div className="collapsible-trigger" onClick={toggle}>
        <span className={`caret ${isOpen ? "rotated" : ""}`}>‚ñº</span>
        <span className="section-part-heading">Billing Address</span>
      </div>

      <div className={`collapsible-content ${isOpen ? "open" : "closed"}`}>
        <label className="same-address-checkbox">
          <input
            type="checkbox"
            checked={formData.billingSameAsAddress}
            onChange={handleBillingSameChange}
          />
          <span>Same as Address</span>
        </label>

        {!formData.billingSameAsAddress && (
          <div className="form-grid">
            <div className="address-line-fullwidth">
              <label>
                <span>Address Line 1</span>
                <input
                  type="text"
                  name="billingAddress.addressLine1"
                  value={formData.billingAddress.addressLine1}
                  onChange={handleChange}
                />
              </label>
            </div>

            <div className="address-line-fullwidth">
              <label>
                <span>Address Line 2</span>
                <input
                  type="text"
                  name="billingAddress.addressLine2"
                  value={formData.billingAddress.addressLine2}
                  onChange={handleChange}
                />
              </label>
            </div>

            <div className="address-grid">
              <label>
                <span>City</span>
                <input
                  type="text"
                  name="billingAddress.city"
                  value={formData.billingAddress.city}
                  onChange={handleChange}
                />
              </label>

              <label>
                <span>State</span>
                <input
                  name="billingAddress.state"
                  value={formData.billingAddress.state}
                  onChange={handleChange}
                />
              </label>

              <label>
                <span>Zip</span>
                <input
                  type="text"
                  name="billingAddress.zip"
                  value={formData.billingAddress.zip}
                  onChange={handleChange}
                />
              </label>

              <label>
                <span>Country</span>
                <input
                  name="billingAddress.country"
                  value={formData.billingAddress.country}
                  onChange={handleChange}
                />
              </label>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default BillingSection;
